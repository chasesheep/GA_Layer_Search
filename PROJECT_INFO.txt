================================================================================
GA Layer Search System - 项目打包信息
================================================================================

项目名称: GA_Layer_Search
版本: v1.0
创建日期: 2025-10-15
Git提交: 7edfc0f

================================================================================
项目概述
================================================================================

基于遗传算法的大语言模型层替换优化搜索系统。

核心功能：
- 遗传算法框架（智能初始化、模式挖掘、引导变异）
- 三阶段搜索流程（GA粗搜索 + 完整评估 + 局部精炼）
- 两阶段局部搜索（节省90%+评估成本）
- 完善的检查点和监控机制
- 模型准备工具（下载、层抽取、测试）

================================================================================
目录结构
================================================================================

GA_Layer_Search/
├── genetic_algorithm/          # 遗传算法核心 (14个文件)
│   ├── config.py              # 配置参数
│   ├── ga_core.py             # GA主流程
│   ├── pattern_miner.py       # 模式挖掘
│   ├── real_fitness.py        # MMLU评估
│   └── ...
│
├── model_preparation/          # 模型准备 (3个文件)
│   ├── modelscope_utils.py    # 模型下载
│   ├── extract_layers.py      # 层抽取
│   └── test_specific_combination.py
│
├── scripts/                    # 运行脚本 (7个文件)
│   ├── quick_test_real.sh     # 快速测试
│   ├── run_full_search.sh     # 完整搜索
│   └── ...
│
├── 文档 (8个文件)
│   ├── README.md              # 主文档（最重要）
│   ├── SETUP.md               # 安装指南
│   ├── ARCHITECTURE.md        # 架构设计
│   ├── USAGE_GUIDE.md         # 使用指南
│   └── ...
│
├── config.sh                   # 路径配置
├── requirements.txt            # Python依赖
└── .gitignore                 # Git忽略规则

总文件数: 34
代码行数: 7809行

================================================================================
快速开始
================================================================================

1. 安装依赖:
   conda create -n ga_layer_search python=3.10
   conda activate ga_layer_search
   pip install -r requirements.txt

2. 准备模型（重要！）:
   cd model_preparation/
   # 下载模型
   python -c "from modelscope_utils import get_model_modelscope; ..."
   # 提取层
   python extract_layers.py --model_name llama --output_dir ../extracted_llama_layers

3. 配置路径:
   编辑 config.sh，设置CONDA_ENV_PATH和LLAMA_LAYERS_DIR

4. 运行测试:
   cd scripts/
   ./quick_test_real.sh

详细说明请查看 README.md 和 SETUP.md

================================================================================
重要说明
================================================================================

⚠️  大文件已忽略（不在Git中）:
   - extracted_llama_layers/ (~40GB)  # 需要手动提取
   - models/                           # ModelScope缓存
   - results/                          # 实验结果
   - *.pt, *.pth                      # 模型权重

⚠️  模型准备是必须的:
   系统依赖预提取的Llama层文件。首次使用前必须运行:
   1. 下载模型 (modelscope_utils.py)
   2. 提取层 (extract_layers.py)
   3. 配置路径 (config.sh)

✅ 已包含在Git中:
   - 所有Python代码
   - 所有Shell脚本
   - 完整文档
   - single_layer_results.json (基准数据)
   - requirements.txt
   - .gitignore

================================================================================
系统要求
================================================================================

硬件:
- GPU: 18GB+ 显存（推荐RTX A6000 48GB）
- CPU: 多核CPU
- 内存: 32GB+ RAM
- 硬盘: 50GB+ 可用空间

软件:
- 操作系统: Linux (Ubuntu 18.04+)
- Python: 3.8-3.10
- CUDA: 11.x or 12.x
- Conda或venv

================================================================================
性能参数
================================================================================

快速配置 (limit=20/None):
- 种群: 40个
- 代数: 20代
- 预计时间: 4-5天
- 评估次数: ~1000次快速 + ~40次完整

效率提升:
- vs 全完整评估: 节省80-85%时间
- vs 传统遗传算法: 提高50%搜索质量

================================================================================
文档索引
================================================================================

新手必读:
1. README.md        - 项目概述和快速开始
2. SETUP.md         - 详细安装配置指南
3. START_HERE.md    - 新手指引

进阶阅读:
4. USAGE_GUIDE.md   - 完整使用指南
5. ARCHITECTURE.md  - 架构设计文档
6. SUMMARY.md       - 项目总结

参考资料:
7. FILES_INDEX.md   - 文件索引

================================================================================
Git信息
================================================================================

仓库: GA_Layer_Search
分支: master
首次提交: 7edfc0f
提交信息: Initial commit: GA Layer Search System

查看日志:
  git log --oneline

查看文件:
  git ls-files

查看统计:
  git diff --stat 4b825dc HEAD  # 查看初始提交的统计

================================================================================
联系方式
================================================================================

作者: Zhuangfei Hu & Claude (Cursor AI Assistant)
日期: 2025-10-15
版本: v1.0

================================================================================
